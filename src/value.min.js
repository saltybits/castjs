(function(){function b(b,c){var d=["validate","parse","format","compare"];for(var e=0;e<d.length;e++){var f=d[e];c[f]=c[f]||n.defaults[f]}a[b]=c}function c(b){var c=a[b];if(c)return c;else throw new Error("ValueJS: Unknown type '"+b+"'")}function d(){var b=[];for(var c in a)b.push(c);return b}function e(a,b){b=b||f(a);if(b){return c(b)}else{throw new Error("ValueJS: Unable to identify type of '"+a+"'")}}function f(a,b){return g(b,function(b){return h(a,b)})}function g(a,b){var c;if(typeof a=="undefined")a=n.defaults.precedence||d();for(var e=0;e<a.length;e++){var f=a[e];if(b(f)){c=f;break}}return c}function h(a,b){return typeof i(a,b)=="undefined"}function i(a,b){var c=e(a,b);if(c.validate){if(c.validate instanceof RegExp){if(!a.match(c.validate))return n.invalid}else{return c.validate(a)}}}function j(a,b){return e(a,b).parse(a)}function k(a,b,d){return c(b).format(a,d)}function l(a,b,d){var e=c(d);return e.compare(e.parse(a),e.parse(b))}function m(a,b){return a.sort(function(a,c){return l(a,c,b)})}var a={};var n={defaults:{parse:function(a){return a},validate:function(a){return},compare:function(a,b){return String(a)-String(b)},format:function(a){return a},precedence:null},invalid:true,define:b,get:c,identify:f,validate:i,parse:j,format:k,compare:l,sort:m};if(typeof module!=="undefined"){module.exports=n}if(typeof window!=="undefined"&&typeof ender==="undefined"){window.ValueJS=n}if(typeof b==="function"&&b.amd){b("valuejs",[],function(){return moment})}})()